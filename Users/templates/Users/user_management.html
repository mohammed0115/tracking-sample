{% extends 'Samples/base.html' %}
{% load i18n %}
{% block title %}{% trans "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†" %}{% endblock %}
{% block content %}
<h1>{% trans "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†" %}</h1>

<div class="card">
  <div style="display:flex;justify-content:space-between;align-items:center;">
    <h3>{% trans "Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†" %}</h3>
    <a href="{% url 'user_create' %}" class="btn btn-green">{% trans "Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù…" %}</a>
  </div>

  <div class="spacer"></div>

  <table>
    <thead>
      <tr>
        <th>{% trans "Ø§Ù„Ø§Ø³Ù…" %}</th>
        <th>{% trans "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" %}</th>
        <th>{% trans "Ø§Ù„Ø¨Ø±ÙŠØ¯" %}</th>
        <th>{% trans "Ø§Ù„Ø¯ÙˆØ±" %}</th>
        <th>{% trans "Ø§Ù„Ø­Ø§Ù„Ø©" %}</th>
        <th>{% trans "Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª" %}</th>
      </tr>
    </thead>
    <tbody>
      {% for row in user_rows %}
        <tr>
          <td>{{ row.user.get_full_name|default:row.user.username }}</td>
          <td>{{ row.user.username }}</td>
          <td>{{ row.user.email }}</td>
          <td>{{ row.role }}</td>
          <td>
            {% if row.user.is_active %}
              <span class="status approved">{% trans "Ù†Ø´Ø·" %}</span>
            {% else %}
              <span class="status rejected">{% trans "Ù…ÙˆÙ‚ÙˆÙ" %}</span>
            {% endif %}
          </td>
          <td>
            <a class="btn btn-blue" href="{% url 'user_edit' row.user.id %}" title="{% trans 'ØªØ¹Ø¯ÙŠÙ„' %}">âœï¸</a>
            <a class="btn btn-gray" href="{% url 'user_toggle_active' row.user.id %}" title="{% if row.user.is_active %}{% trans 'Ø¥ÙŠÙ‚Ø§Ù' %}{% else %}{% trans 'ØªÙØ¹ÙŠÙ„' %}{% endif %}">
              {% if row.user.is_active %}â›”{% else %}âœ…{% endif %}
            </a>
            <a class="btn btn-red" href="{% url 'user_reset_password' row.user.id %}" title="{% trans 'Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†' %}">ğŸ”’</a>
          </td>
        </tr>
      {% empty %}
        <tr><td colspan="6">{% trans "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†" %}</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
